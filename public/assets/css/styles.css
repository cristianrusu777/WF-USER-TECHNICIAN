/* ==== Technician UI: additions (safe, flat) ==== */
/* Technician Role Badge (right side of navbar) */
.role-badge {
  display: inline-block;
  padding: 0.25rem 0.65rem;
  border-radius: 999px;
  font-size: 0.75rem;
  font-weight: 800;
  line-height: 1;
  background: #f6c453;        /* gold */
  color: #1f2937 !important;             /* slate-800 */
  border: 1px solid #f4b942;  /* darker gold border */
  box-shadow: 0 1px 0 rgba(0,0,0,0.06) inset;
}

/* Status Badges */
.status-badge { padding: 0.1rem 0.5rem; border-radius: 999px; font-size: 0.75rem; font-weight: 600; }
.status-online   { background: #d1fae5; color: #065f46; }
.status-degraded { background: #fef3c7; color: #92400e; }
.status-offline  { background: #fee2e2; color: #991b1b; }

/* Metric severity pills */
.metric { font-weight: 600; padding: 0.05rem 0.35rem; border-radius: 0.35rem; font-size: 0.85rem; }
.metric-ok   { background: #e6fffa; color: #065f46; }
.metric-warn { background: #fef3c7; color: #92400e; }
.metric-crit { background: #fee2e2; color: #991b1b; }

/* Keyâ€“Value pills for camera properties */
.kv { display: inline-flex; align-items: center; gap: 0.05rem; padding: 0.1rem 0.6rem; background: #f6f8fa; border-radius: 999px; border: 1px solid #d7dde5; color: #334155; font-size: 0.82rem; }
.kv .kv-label { font-weight: 800; color: #0f172a; text-transform: uppercase; font-size: 0.72rem; letter-spacing: .02em; }
/* Compact layout: smaller pills and two per row */
.kv-grid { display: flex; flex-wrap: wrap; gap: 0.2rem; }
.kv-compact { padding: 0.03rem 0.4rem; font-size: 0.7rem; }
.kv-compact .kv-label { font-size: 0.64rem; }
.kv-grid .kv-compact { flex: 0 1 calc(50% - 0.25rem); }

/* Tech map list layout: emphasize details, minimize actions */
.tech-item-content { flex: 0 1 calc(100% - 5rem); padding-right: 0.5rem; }

/* Camera Wall layout */
.wall-grid { display: grid; grid-auto-rows: 1fr; gap: 0.5rem; }
.wall-tile { background: #fff; border-radius: var(--radius); box-shadow: var(--shadow); padding: 0.5rem; display: flex; flex-direction: column; gap: 0.4rem; }
.wall-tile .tile-head { display: flex; justify-content: space-between; align-items: center; }
.wall-tile .tile-meta { font-size: 0.85rem; color: var(--gray-600); display: flex; gap: 0.4rem; flex-wrap: wrap; }
.wall-tile .action-row { margin-top: auto; }
/* Stronger decorative background only inside wall tiles */
.wall-tile .video-wrap {
    background:
      linear-gradient(180deg, rgba(255,255,255,0.55), rgba(255,255,255,0.2)),
      repeating-linear-gradient(45deg, var(--green-100), var(--green-100) 12px, #e9f7ef 12px, #e9f7ef 24px);
    border: 1px solid #e5e7eb;
    min-height: 9rem;
}

/* Region tints (apply when an ancestor has a region-* class) */
.region-north-america .wall-tile { box-shadow: 0 0 0 2px rgba(59,130,246,0.15) inset; }
.region-north-america .wall-tile .video-wrap { background: linear-gradient(180deg, rgba(59,130,246,0.10), rgba(59,130,246,0.06)), repeating-linear-gradient(45deg, #eef2ff, #eef2ff 12px, #e9f7ef 12px, #e9f7ef 24px); border-color: rgba(59,130,246,0.25); }

.region-south-america .wall-tile { box-shadow: 0 0 0 2px rgba(16,185,129,0.18) inset; }
.region-south-america .wall-tile .video-wrap { background: linear-gradient(180deg, rgba(16,185,129,0.12), rgba(16,185,129,0.06)), repeating-linear-gradient(45deg, #ecfdf5, #ecfdf5 12px, #e9f7ef 12px, #e9f7ef 24px); border-color: rgba(16,185,129,0.3); }

.region-europe .wall-tile { box-shadow: 0 0 0 2px rgba(234,179,8,0.22) inset; }
.region-europe .wall-tile .video-wrap { background: linear-gradient(180deg, rgba(234,179,8,0.14), rgba(234,179,8,0.08)), repeating-linear-gradient(45deg, #fffbeb, #fffbeb 12px, #e9f7ef 12px, #e9f7ef 24px); border-color: rgba(234,179,8,0.35); }

.region-africa .wall-tile { box-shadow: 0 0 0 2px rgba(244,114,182,0.18) inset; }
.region-africa .wall-tile .video-wrap { background: linear-gradient(180deg, rgba(244,114,182,0.12), rgba(244,114,182,0.06)), repeating-linear-gradient(45deg, #fdf2f8, #fdf2f8 12px, #e9f7ef 12px, #e9f7ef 24px); border-color: rgba(244,114,182,0.3); }

.region-asia .wall-tile { box-shadow: 0 0 0 2px rgba(249,115,22,0.18) inset; }
.region-asia .wall-tile .video-wrap { background: linear-gradient(180deg, rgba(249,115,22,0.12), rgba(249,115,22,0.06)), repeating-linear-gradient(45deg, #fff7ed, #fff7ed 12px, #e9f7ef 12px, #e9f7ef 24px); border-color: rgba(249,115,22,0.3); }

.region-oceania .wall-tile { box-shadow: 0 0 0 2px rgba(99,102,241,0.18) inset; }
.region-oceania .wall-tile .video-wrap { background: linear-gradient(180deg, rgba(99,102,241,0.12), rgba(99,102,241,0.06)), repeating-linear-gradient(45deg, #eef2ff, #eef2ff 12px, #e9f7ef 12px, #e9f7ef 24px); border-color: rgba(99,102,241,0.3); }

.region-antarctica-misc .wall-tile { box-shadow: 0 0 0 2px rgba(148,163,184,0.22) inset; }
.region-antarctica-misc .wall-tile .video-wrap { background: linear-gradient(180deg, rgba(148,163,184,0.14), rgba(148,163,184,0.08)), repeating-linear-gradient(45deg, #f1f5f9, #f1f5f9 12px, #e9f7ef 12px, #e9f7ef 24px); border-color: rgba(148,163,184,0.35); }
.modal-header .wall-title { margin-right: 1rem; }
.modal-header .wall-controls { margin-left: auto; }
/* === Authentication, ... Button === */
#authBtn,
.subscriptionBtn,
#cancelBtn,
#acceptBtn,
#sendBtn,
#understoodBtn,
#toSubscriptionBtn,
#generateBtn,
.vbutton {
    color: var(--gray-100);
    background-color: var(--green-300);
    border: none;
    border-radius: var(--radius);
}

.vbutton:hover {
    background-color: var(--green-400);
}

/* === Header (title, nav & logout) & Main & Footer (copyright message) === */
header, footer {
    color: var(--gray-100) !important;
    background-color: var(--green-300);
    box-shadow: var(--shadow);
}

header span, header nav li a, #logout {
    color: var(--gray-100) !important;
}

header span, header nav li a.active, #logout {
    font-weight: bold;
}

main {
    margin: 2rem 1rem;
}

footer {
    width: 100%;
    padding: 0.25rem 0;
    position: fixed;
    bottom: 0;
}

/* === Map & List & Filter & Data & ... === */
#ml .col-md-3, .fd, .vl {
    display: flex;
    flex-direction: column;
    height: 80vh;
}

/* Tech Data layout: make right card match left filters height */
.fd .frow { height: 100%; }
.fcol .card { height: 100%; display: flex; flex-direction: column; }
.dcol { height: 104%; display: flex; flex-direction: column; }
.dcol > .tab-content { flex: 1; display: flex; flex-direction: column; }

/* === Map === */
#map {
    height: 100%;
    border-radius: var(--radius);
    box-shadow: var(--shadow);

    & span {
        color: var(--gray-400);
    }
}

.marker-green {
    filter: hue-rotate(25deg) saturate(0.6) brightness(1.1);
}

.marker-gold {
    filter: hue-rotate(-5deg) saturate(1) brightness(1.1);
}

/* === Camera List === */
#search {
    color: var(--gray-500);
    box-shadow: none;

    &:focus {
        border-color: var(--gray-500);
    }
}

.vbutton {
    margin-left: 0.5rem;
}

#cameraList {
    .list-group-item {
        margin-bottom: 0.2rem;
        color: var(--gray-500);
        border-top: 0.1rem solid var(--green-200);

        &:hover {
            background-color: var(--green-100);
        }

        &.gold {
            border-top: 0.1rem solid var(--accent-gold-300);

            &:hover {
                background-color: var(--accent-gold-200);
            }
        }

        button {
            padding: 0 0.5rem;
            background-color: var(--green-200);
            border-radius: var(--radius);

            & :hover {
                background-color: var(--green-300);
            }
        }

        button.bookmarked {
            background-color: var(--accent-gold-300);

            &:hover {
                background-color: var(--accent-gold-400);
            }
        }
    }
}

#cameraListContainer {
    height: 100%;
    overflow-y: auto;
    border-radius: var(--radius);
    box-shadow: var(--shadow);

    &::-webkit-scrollbar {
        width: 0.5rem;
    }

    &::-webkit-scrollbar-track {
        background: var(--green-300);
        border-radius: var(--radius);
    }

    &::-webkit-scrollbar-thumb {
        background: var(--green-400);
        border-radius: var(--radius);
    }

    &::-webkit-scrollbar-thumb:hover {
        background: var(--green-400);
    }
}

.scol {
    margin-right: 1rem;
    padding: 0;
}

/* === Subscription Card === */
.subscriptions {
    display: flex;
    flex-direction: row;
    gap: 1rem;
    height: 80vh;

    & .card {
        height: 100%;
        border-radius: var(--radius);
        box-shadow: var(--shadow);
    }

    & .card-body {
        display: flex;
        flex-direction: column;
        height: 100%;
        overflow-y: auto; /* ensure all filter controls remain visible */


    }

    & .card-body {
        display: flex;
        flex-direction: column;
        height: 100%;

        & h3 {
            margin-bottom: 0;
            text-align: center;
        }

        & select, & input {
            color: var(--gray-500);
            box-shadow: none;

            &:focus {
                border-color: var(--gray-500);
            }

            &::-webkit-scrollbar {
                width: 0.5rem;
            }

            &::-webkit-scrollbar-track {
                background: var(--green-300);
                border-radius: var(--radius);
            }

            &::-webkit-scrollbar-thumb {
                background: var(--green-400);
                border-radius: var(--radius);
            }

            &::-webkit-scrollbar-thumb:hover {
                background: var(--green-400);
            }
        }

        & button {
            align-self: center;
            margin-top: auto;
        }
    }
}

.fcbody div {
    margin: 0.7rem 0;
}

.dcol {
    margin-right: 1rem;
    padding: 0;

    & ul li button {
        color: var(--gray-500);

        &:hover {
            color: var(--gray-500);
        }
    }

    & .tab-content {
        height: 100%;
        overflow: hidden;
        border-radius: var(--radius);

        .table-dark th {
            color: white;
            background-color: var(--green-300);
        }
    }
}

/* Global themed overrides for Bootstrap variants used in tech pages */
/* Ensure table dark header uses brand color everywhere */
.table thead.table-dark th,
.table-dark th {
    color: #fff !important;
    background-color: var(--green-300) !important;
}

/* Theme the info alert to our green palette */
.alert-info {
    color: var(--gray-700) !important;
    background-color: var(--green-100) !important;
    border-color: var(--green-200) !important;
}

/* Muted text aligned to theme gray scale */
.text-muted { color: var(--gray-600) !important; }

/* Tabs (Bootstrap nav-tabs) */
.nav-tabs .nav-link { color: var(--gray-600); }
.nav-tabs .nav-link:hover { color: var(--gray-800); }
.nav-tabs .nav-link.active {
  color: var(--gray-800);
  background-color: var(--green-100);
  border-color: var(--green-200) var(--green-200) transparent;
}

/* Form controls */
.form-control, .form-select { color: var(--gray-700); box-shadow: none; }
.form-control:focus, .form-select:focus {
  border-color: var(--gray-500);
  box-shadow: 0 0 0 0.2rem rgba(16,185,129,0.15);
}

/* Switches and range inputs */
.form-check-input:checked { background-color: var(--green-300); border-color: var(--green-300); }
.form-range::-webkit-slider-thumb { background-color: var(--green-300); }
.form-range::-moz-range-thumb { background-color: var(--green-300); }

/* Striped tables */
.table-striped > tbody > tr:nth-of-type(odd) > * { background-color: #f0fdf4; }

/* List groups */
.list-group-item { color: var(--gray-600); border-color: var(--green-200); }
.list-group-item-action:hover, .list-group-item:hover { background-color: var(--green-100); color: var(--gray-700); }

.tab-content, #dataTab, table, tr {
    width: 100%;
}

/* Tech Data table header: remove rounded corners on first/last cells */
#t_dataTable thead { border-radius: 0 !important; }
#t_dataTable thead th { border-radius: 0 !important; }
#t_dataTable thead th:first-child { border-top-left-radius: 0 !important; }
#t_dataTable thead th:last-child { border-top-right-radius: 0 !important; }
/* Center the Data/Graphs tabs */
.dcol #dataTabs { justify-content: center; }

/* Tech Data: fixed column widths for perfect alignment */
#t_dataTable th, #t_dataTable td { flex: 0 0 auto; box-sizing: border-box; }
#t_dataTable th:nth-child(1), #t_dataTable td:nth-child(1) { flex-basis: 13%; max-width: 13%; }
#t_dataTable th:nth-child(2), #t_dataTable td:nth-child(2) { flex-basis: 14%; max-width: 14%; }
#t_dataTable th:nth-child(3), #t_dataTable td:nth-child(3) { flex-basis: 11%; max-width: 11%; }
#t_dataTable th:nth-child(4), #t_dataTable td:nth-child(4) { flex-basis: 8%; max-width: 8%; }
#t_dataTable th:nth-child(5), #t_dataTable td:nth-child(5) { flex-basis: 10%; max-width: 10%; }
#t_dataTable th:nth-child(6), #t_dataTable td:nth-child(6) { flex-basis: 8%;  max-width: 8%; }
#t_dataTable th:nth-child(7), #t_dataTable td:nth-child(7) { flex-basis: 10%; max-width: 10%; }
#t_dataTable th:nth-child(8), #t_dataTable td:nth-child(8) { flex-basis: 8%;  max-width: 8%; }
#t_dataTable th:nth-child(9), #t_dataTable td:nth-child(9) { flex-basis: 12%;  max-width: 12%; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
#t_dataTable th:nth-child(10), #t_dataTable td:nth-child(10) { flex-basis: 6%; max-width: 6%; text-align: center; }

tr {
    display: flex;
}

th, td {
    flex: 1;
}

thead {
    display: inline-block;
    width: 100%;
}

tbody {
    height: 45rem;
    display: inline-block;
    width: 100%;
    overflow: auto;

    &::-webkit-scrollbar {
        width: 0.5rem;
    }

    &::-webkit-scrollbar-track {
        background: var(--green-300);
        border-radius: var(--radius);
    }

    &::-webkit-scrollbar-thumb {
        background: var(--green-400);
        border-radius: var(--radius);
    }

    &::-webkit-scrollbar-thumb:hover {
        background: var(--green-400);
    }
}

#graphTab .card-body {
    min-height: 68vh;
    max-height: 68vh;
    align-items: center;
}

.toStyleTheButtonOnTheDataPage {
    background-color: transparent;
}

/* === Video Page Stuff === */
.vlc {
    display: flex;
    flex-direction: row;
    gap: 1rem;
}

.v, .l {
    box-shadow: var(--shadow);
    border-radius: var(--radius);
    padding: 0;

    & h3 {
        margin-bottom: 1rem;
        text-align: center;
    }
}

.v {
    flex: 1 0;
    margin-left: 1rem;
    height: 80vh;

    & div, & div video {
        height: 100%;
    }
}

.l {
    margin-right: 1rem;
    padding: 1rem;
}

/* Tech Camera: fixed-size description box and scrollable panel */
.tech-panel {
  max-height: 80vh;
  overflow: auto;
}
#t_desc {
  display: block;
  margin-top: 0.15rem;
  width: 100%;
  min-height: 3.25rem;   /* ~2 lines */
  max-height: 6.5rem;    /* ~4 lines */
  overflow: auto;
  padding: 0.35rem 0.5rem;
  background: #f8fafc;   /* slate-50 */
  border: 1px solid #e5e7eb; /* gray-200 */
  border-radius: 6px;
  font-size: 0.85rem;    /* smaller text */
  line-height: 1.25rem;
}

#rname {
    position: absolute;
    top: 0.5rem;
    left: 1rem;
    color: white;
    font-weight: bolder;
    font-size: 1.2rem;
}

#lstatus {
    position: absolute;
    top: 0.5rem;
    right: 1rem;
    color: firebrick;
    font-weight: bolder;
    font-size: 1.2rem;
}

.live-offline {
  color: #6b7280 !important; /* gray-500 */
}

/* Narrow the absolute position styling only to video preview overlays */
.v div.position-relative span,
.l div.position-relative span {
    position: absolute;
    top: 0.5rem;
    right: 1rem;
    color: firebrick;
    font-weight: bolder;
    font-size: 1.2rem;
}

/* Ensure spans/codes in the technician side panel are not absolutely positioned */
.tech-panel span,
.tech-panel code {
    position: static !important;
}

/* Technician UI: status badges */
.status-badge {
    padding: 0.1rem 0.5rem;
    border-radius: 999px;
    font-size: 0.75rem;
    font-weight: 600;
}
.status-online { background: #d1fae5; color: #065f46; }
.status-degraded { background: #fef3c7; color: #92400e; }
.status-offline { background: #fee2e2; color: #991b1b; }

/* Technician UI: inline action buttons */
.action-row {
    display: flex;
    gap: 0.1rem;
    margin-top: 10%;
}

/* Explicit styles for small action buttons (view/bookmark) */
.vbutton {
    display: inline-block;
    padding: 0.25rem 0.6rem;
    font-size: 0.9rem;
    background-color: var(--green-200);
    color: var(--gray-900);
    border: none;
    border-radius: var(--radius);
    cursor: pointer;
}
.vbutton:hover { background-color: var(--green-400); }

/* Gold state for bookmarked action buttons (tech list and tiles) */
.vbutton.bookmarked { background-color: var(--accent-gold-300) !important; color: var(--gray-900) !important; }
.vbutton.bookmarked:hover { background-color: var(--accent-gold-400) !important; color: var(--gray-900) !important; }
/* Increase specificity inside action rows to beat any overrides */
.action-row .vbutton.bookmarked { background-color: var(--accent-gold-300) !important; color: var(--gray-900) !important; }
.action-row .vbutton.bookmarked:hover { background-color: var(--accent-gold-400) !important; color: var(--gray-900) !important; }


/* Base tech buttons (used across Manage, Camera Wall, Apply, Restart) */
.btn-tech {
  color: var(--gray-100);
  background-color: var(--green-300);
  border: none;
  padding: 0rem 0.5rem;
  border-radius: var(--radius);
}
.btn-tech:hover { background-color: var(--green-400); }

/* Secondary tech button */
.btn-secondary-tech {
  color: var(--gray-900);
  background-color: var(--green-200);
  border: none;
  border-radius: var(--radius);
}
.btn-secondary-tech:hover { background-color: var(--green-300); }

#adminCamsModal input.auto-fill[readonly]::placeholder {
  color: #cbd5e1;            /* slate-300 */
}

/* Highlight for the targeted rename input (Manage Cameras) */
#adminCamsModal input.rename-target {
  outline: 2px solid var(--green-400);
  box-shadow: 0 0 0 3px rgba(16,185,129,0.25);
  background-color: #f0fdf4; /* green-50 */
  transition: box-shadow 180ms ease, background-color 180ms ease;
}

.btn-danger-tech {
    color: #7f1d1d;
    background-color: #fecaca; /* red-200 */
    border: none;
    border-radius: var(--radius);
}
#adminCamsModal #admAddBtn:disabled {
  background-color: #e5e7eb; /* gray-200 */
  color: #6b7280;            /* gray-500 */
  cursor: not-allowed;
  border: none;
}

/* Unassigned devices list: show ~3 items with scrollbar */
.unassigned-wrap #unassignedList {
  max-height: 10.5rem; /* ~3 items */
  overflow: auto;
}
.unassigned-wrap #unassignedList .list-group-item.selected {
  background: #f0fdf4; /* subtle highlight */
  border-left: 3px solid var(--green-300);
}
.btn-danger-tech:hover {
    background-color: #fca5a5; /* red-300 */
}

/* Small button utility for compact lists (e.g., unassigned devices Focus/Select) */
.btn-xs {
  padding: 0.125rem 0.45rem;
  font-size: 0.75rem;
  line-height: 1.1;
  border-radius: 0.35rem;
}

/* Leaflet popup container styling (tech pages) */
.leaflet-popup-content-wrapper,
.leaflet-popup-tip { background: #fff; }
.leaflet-popup-content-wrapper {
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  border: 0.125rem solid var(--green-200);
}
.leaflet-popup-tip { box-shadow: var(--shadow); }
.leaflet-container a.leaflet-popup-close-button {
  color: var(--gray-400);
  font-weight: bold;
  opacity: 0.9;
}
.leaflet-container a.leaflet-popup-close-button:hover { color: var(--green-400); }
.leaflet-popup-content { margin: 0.75rem 0.9rem; color: var(--gray-600); }
.leaflet-popup-content h5, .leaflet-popup-content h6 { margin: 0 0 0.35rem 0; color: var(--gray-700); }
.leaflet-popup-content p { margin: 0 0 0.5rem 0; }
.leaflet-popup-content a { color: var(--green-400); text-decoration: none; }
.leaflet-popup-content a:hover { text-decoration: underline; }

/* Make tech-themed buttons look good inside Leaflet popups */
.leaflet-popup-content .btn-tech,
.leaflet-popup-content .btn-secondary-tech,
.leaflet-popup-content button {
  background-color: var(--green-400);
  color: var(--gray-100);
  padding: 0.35rem 0.7rem;
  font-size: 0.9rem;
  border-radius: var(--radius);
}

/* Install Tech: fixed row layout for device list */
.install-list .list-group-item {
  display: grid;
  grid-template-columns: 1fr 10rem; /* info | actions */
  align-items: center;
}
.install-list .list-group-item > span:first-child {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}
.install-list .list-group-item > span:last-child {
  display: inline-flex;
  gap: 0.25rem;
  justify-content: flex-end;
}
.install-list .btn-xs { min-width: 4.5rem; text-align: center; }
.status-select-tech {
    min-width: 9rem;
}
.status-online-select { background: #d1fae5 !important; color: #065f46 !important; }
.status-degraded-select { background: #fef3c7 !important; color: #92400e !important; }
.status-offline-select { background: #fee2e2 !important; color: #991b1b !important; }

/* Technician UI: metric severity styles */

/* Tech Data: fixed chart area to avoid layout breaking */
.chart-fixed {
  min-height: 420px;
  height: 420px;
  position: relative;
}
.chart-fixed canvas {
  width: 100% !important;
  height: 360px !important; /* leave space for title and padding */
  display: block;
}
/* === Global Themed Scrollbars (applies everywhere) === */
/* Firefox */
* {
  scrollbar-width: thin;
  /* thumb | track */
  scrollbar-color: var(--green-300) var(--green-100);
}
/* WebKit (Chromium, Safari, Edge) */
*::-webkit-scrollbar {
  width: 0.5rem;
  height: 0.5rem;
}
*::-webkit-scrollbar-track {
  background: var(--green-100);
  border-radius: var(--radius);
}
*::-webkit-scrollbar-thumb {
  background: var(--green-300);
  border: 1px solid var(--green-200);
  border-radius: var(--radius);
}
*::-webkit-scrollbar-thumb:hover {
  background: var(--green-400);
}